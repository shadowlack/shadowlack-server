{% extends "website/base.html" %}

{% block titleblock %}Shadowlack{% endblock %}

{% block header_mast %}
<div class="masthead" role="banner">
  <div class="container">
    <div class="masthead-content">
      <h1>Original Science Fantasy World Building</h1>
      <p>Shadowlack is a multi-user text adventure and world building project. Get inspired and contribute to our expansive setting.</p>

      {% if account %}
      <button class="btn"><a href="{% url 'webclient:index' %}">Play</a></button>
      {% else %}
      <button class="btn"><a href="{% url 'register' %}">Register Today</a></button>
      {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block content %}
<div class="row">
  <div class="col-xs-12 col-md-12">
    <div class="card">
      <div class="card-body text-center">
        <img src="https://shadowlack.com/images/bunglebearz-cayson.png" title="Cayson" alt="Cayson" width="250" height="203">
      </div>
    </div>
  </div>
</div>

<hr>

<div class="row">
  <div class="col-xs-12 col-md-4">
    <div class="card">
      <h4 class="card-header">Accounts</h4>

      <div class="card-body">
        <p>
          There's currently <strong>{{num_accounts_connected}}</strong> connected out of a total of
          <strong>{{num_accounts_registered}}</strong> account{{num_accounts_registered|pluralize}}
          registered.
        </p>
        <p>
          Of these, <strong>{{num_accounts_registered_recent}}</strong> were created this week, and
          <strong>{{num_accounts_connected_recent}}</strong> have connected within the last seven days.
        </p>
      </div>
    </div>
  </div>

  <div class="col-xs-12 col-md-4">
    <div class="card">
      <h4 class="card-header">Last Online</h4>

      <div class="card-body px-0 py-0">
        <ul class="list-group">
          {% for account in accounts_connected_recent %}
          <li class="list-group-item">{{account.username}}&mdash;<em>{{account.last_login|timesince}} ago</em>
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>

  <div class="col-xs-12 col-md-4">
    <div class="card">
      <h4 class="card-header">World Stats</h4>
      <div class="card-body py-0 px-0">
        <ul class="list-group">
          <li class="list-group-item">{{num_accounts_registered}} registered account{{num_accounts_registered|pluralize}}
            (+ {{num_characters}} character{{num_characters|pluralize}})</li>
          <li class="list-group-item">{{num_rooms}} room{{num_rooms|pluralize}} (+ {{num_exits}} exits)</li>
          <li class="list-group-item">{{num_others}} other objects</li>
        </ul>
      </div>
    </div>
  </div>
</div>

{% endblock %}
